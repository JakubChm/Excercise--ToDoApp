const addInput=document.getElementById("add-field"),searchInput=document.getElementById("search-field"),addBtn=document.querySelector(".add-button"),ulToDo=document.querySelector(".todo-list__tasks"),ulDone=document.querySelector(".todo-list__tasks-done"),numberOfTasks=document.querySelector(".tasks-number"),completedTasts=document.querySelector(".doneTask-Number"),notCompletedTasks=document.querySelector(".toCompleteTask-Number"),todoList=[],doneList=[];let movedElementTextContent,filteredTodoList,filteredDoneList;const createTodoElement=e=>{const t=document.createElement("li"),o=document.createElement("p"),n=document.createElement("div"),d=document.createElement("button"),a=document.createElement("button");t.className="task",ulToDo.appendChild(t),o.className="li-content",o.textContent=`${e}`,t.appendChild(o),n.className="btn-container",t.appendChild(n),a.className="todo-btn done-btn",a.textContent="Done",n.appendChild(a),d.className="todo-btn delete-btn",d.textContent="Delete",n.appendChild(d),todoList.push(t)},createDoneElement=e=>{const t=e.target.parentNode.parentNode.dataset.id;movedElementTextContent=todoList[t].querySelector("p").textContent,console.log(movedElementTextContent),todoList.splice(t,1);const o=document.createElement("li"),n=document.createElement("p"),d=document.createElement("div"),a=document.createElement("button"),l=document.createElement("button");o.className="task",ulDone.appendChild(o),n.className="li-done-content",n.textContent=`${movedElementTextContent}`,o.appendChild(n),d.className="btn-container",o.appendChild(d),l.className="todo-btn not-done-btn",l.textContent="Not done",d.appendChild(l),a.className="todo-btn delete-done-btn",a.textContent="Delete",d.appendChild(a),doneList.push(o),updateDoneList(),updateList(),searchTask(),document.querySelectorAll(".delete-done-btn").forEach(e=>e.addEventListener("click",removeDoneTask)),document.querySelectorAll(".not-done-btn").forEach(e=>e.addEventListener("click",moveToTodoList))},updateList=()=>{ulToDo.textContent="",todoList.forEach((e,t)=>{ulToDo.appendChild(e),e.dataset.id=t}),setTaskNumber()},updateDoneList=()=>{doneList.forEach((e,t)=>{ulDone.appendChild(e),e.dataset.id=t})},updateFilteredList=()=>{ulToDo.textContent="",filteredTodoList.forEach(e=>{ulToDo.appendChild(e)}),ulDone.textContent="",filteredDoneList.forEach(e=>{ulDone.appendChild(e)})},removeTask=e=>{const t=e.target.parentNode.parentNode.dataset.id;console.log(t),todoList.splice(t,1),updateList(),searchTask()},removeDoneTask=e=>{const t=e.target.parentNode.parentNode.dataset.id;console.log(t),doneList.splice(t,1),ulDone.textContent="",updateDoneList(),setTaskNumber(),searchTask()},addTask=e=>{if(e.preventDefault(),""===addInput.value)return alert("You can't add an empty string to your TODO list. Please try one more time.");createTodoElement(addInput.value),updateList(),searchTask(),addInput.value="",document.querySelectorAll(".delete-btn").forEach(e=>e.addEventListener("click",removeTask)),document.querySelectorAll(".done-btn").forEach(e=>e.addEventListener("click",createDoneElement))},searchTask=()=>{filteredTodoList=todoList.filter(e=>e.textContent.toLowerCase().includes(searchInput.value.toLowerCase())),filteredDoneList=doneList.filter(e=>e.textContent.toLowerCase().includes(searchInput.value.toLowerCase())),ulToDo.textContent="",filteredTodoList.forEach(e=>{ulToDo.appendChild(e)}),ulDone.textContent="",filteredDoneList.forEach(e=>{ulDone.appendChild(e)})},setTaskNumber=()=>{numberOfTasks.textContent=todoList.length+doneList.length,notCompletedTasks.textContent=todoList.length,completedTasts.textContent=doneList.length};addBtn.addEventListener("click",addTask),searchInput.addEventListener("input",searchTask);